<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Airdrop Hub Elite</title>
    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script type="text/javascript" src="https://cdn.tgads.space/assets/js/adexium-widget.min.js"></script>
    <script type="text/javascript">
        let adexiumWidget;
        document.addEventListener('DOMContentLoaded', () => {
            adexiumWidget = new AdexiumWidget({wid: 'afd290b9-c0c6-48a2-9900-7378f148e5c4', adFormat: 'interstitial'});
            // autoMode yerine manuel tetikleme için hazır bırakıyoruz
        });
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { background-color: #000; color: #fff; font-family: 'Inter', sans-serif; overflow: hidden; margin: 0; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .tab-content { display: none; height: calc(100vh - 80px); overflow-y: auto; padding-bottom: 120px; }
        .tab-content.active { display: block; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        
        .nav-item { color: #4b5563; transition: 0.3s; }
        .nav-item.active { color: #fff; }

        .btn-watch {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .btn-watch:active { transform: scale(0.92); }

        .scan-line { position: absolute; width: 100%; height: 100px; background: linear-gradient(to bottom, transparent, rgba(59, 130, 246, 0.2), transparent); animation: scan 3s infinite; }
        @keyframes scan { 0% { top: -100px; } 100% { top: 100%; } }
    </style>
</head>
<body>

    <div id="checking-screen" class="fixed inset-0 z-[1000] bg-black flex flex-col items-center justify-center p-8 text-center">
        <div class="scan-line"></div>
        <div class="relative w-20 h-20 mb-8">
            <div class="absolute inset-0 border-2 border-blue-500/20 rounded-full"></div>
            <div class="absolute inset-0 border-2 border-t-blue-500 rounded-full animate-spin"></div>
        </div>
        <h1 class="text-xl font-black italic tracking-widest uppercase">Initializing Hub</h1>
        <div class="w-48 bg-white/5 h-1 mt-6 rounded-full overflow-hidden">
            <div id="p-bar" class="h-full bg-blue-600 transition-all duration-300" style="width: 0%"></div>
        </div>
    </div>

    <div id="app" class="hidden">
        
        <div id="home" class="tab-content active p-6">
            <div class="flex justify-between items-center mb-8">
                <span class="text-[10px] font-black bg-blue-600/10 text-blue-500 px-4 py-1.5 rounded-full border border-blue-500/20 italic">v1.0.4 ELITE</span>
                <div class="w-8 h-8 rounded-full glass flex items-center justify-center"><i class="fa-solid fa-user text-[12px]"></i></div>
            </div>

            <div class="text-center py-6">
                <p class="text-[10px] text-gray-500 font-bold uppercase tracking-[0.4em] mb-2">Total Balance</p>
                <h1 id="score-display" class="text-7xl font-black italic tracking-tighter leading-none mb-12">0</h1>
                
                <div class="px-4">
                    <button onclick="handleWatchAd()" class="btn-watch w-full py-5 rounded-[2rem] flex items-center justify-center gap-3 group">
                        <i class="fa-solid fa-play-circle text-2xl animate-pulse"></i>
                        <div class="text-left">
                            <p class="text-xs font-black uppercase tracking-widest leading-none">WATCH ADS</p>
                            <p class="text-[9px] font-bold opacity-70 uppercase tracking-tighter">Earn +1 Point per Ad</p>
                        </div>
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3 mt-10">
                <div class="glass p-5 rounded-[2rem] text-center">
                    <p class="text-[9px] text-gray-500 font-bold uppercase mb-1">Multiplier</p>
                    <p class="text-xl font-black italic text-gray-700">0.00x</p>
                </div>
                <div class="glass p-5 rounded-[2rem] text-center">
                    <p class="text-[9px] text-gray-500 font-bold uppercase mb-1">Status</p>
                    <p class="text-[11px] font-black italic text-blue-500 uppercase">Live</p>
                </div>
            </div>
        </div>

        <div id="tasks" class="tab-content p-6">
            <h2 class="text-3xl font-black italic mb-8 uppercase">Tasks</h2>
            <div class="glass p-5 rounded-[2rem] flex justify-between items-center border border-white/5">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500">
                        <i class="fa-brands fa-telegram text-2xl"></i>
                    </div>
                    <div>
                        <p class="font-bold text-sm text-white">Join Channel</p>
                        <p class="text-[10px] text-blue-400 font-black">+100 POINTS</p>
                    </div>
                </div>
                <button id="tg-btn" onclick="doTelegramTask()" class="bg-white text-black px-6 py-2 rounded-xl text-[10px] font-black uppercase transition">DO IT</button>
            </div>
        </div>

        <div id="friends" class="tab-content p-6 text-center pt-20">
            <i class="fa-solid fa-user-astronaut text-6xl text-white/10 mb-6"></i>
            <h2 class="text-2xl font-black italic uppercase mb-2">Build Your Team</h2>
            <p class="text-xs text-gray-500 px-10 italic">Referring friends will unlock high-tier multipliers in Phase 2.</p>
        </div>

        <div id="vision" class="tab-content p-6">
            <h2 class="text-3xl font-black italic mb-8 uppercase">Roadmap</h2>
            <div class="space-y-6">
                <div class="border-l-2 border-blue-500 pl-6 relative">
                    <div class="absolute -left-[9px] top-0 w-4 h-4 bg-blue-500 rounded-full shadow-[0_0_15px_#3b82f6]"></div>
                    <p class="text-[10px] text-blue-500 font-black uppercase">Phase 1 (Current)</p>
                    <h4 class="font-bold italic text-sm">Genesis & Ad Rewards</h4>
                </div>
                <div class="border-l-2 border-white/10 pl-6 relative opacity-30">
                    <div class="absolute -left-[9px] top-0 w-4 h-4 bg-white/10 rounded-full"></div>
                    <p class="text-[10px] font-black uppercase">Phase 2</p>
                    <h4 class="font-bold italic text-sm">Mining & Boost System</h4>
                </div>
            </div>
        </div>

        <nav class="fixed bottom-0 left-0 right-0 h-24 glass border-t border-white/5 flex justify-around items-center px-6 z-50">
            <button onclick="switchTab('home', this)" class="nav-item active flex flex-col items-center gap-1.5">
                <i class="fa-solid fa-house-chimney text-xl"></i>
                <span class="text-[9px] font-black uppercase">Home</span>
            </button>
            <button onclick="switchTab('tasks', this)" class="nav-item flex flex-col items-center gap-1.5">
                <i class="fa-solid fa-bolt-lightning text-xl"></i>
                <span class="text-[9px] font-black uppercase">Tasks</span>
            </button>
            <button onclick="switchTab('friends', this)" class="nav-item flex flex-col items-center gap-1.5">
                <i class="fa-solid fa-user-group text-xl"></i>
                <span class="text-[9px] font-black uppercase">Team</span>
            </button>
            <button onclick="switchTab('vision', this)" class="nav-item flex flex-col items-center gap-1.5">
                <i class="fa-solid fa-map text-xl"></i>
                <span class="text-[9px] font-black uppercase">Vision</span>
            </button>
        </nav>
    </div>

    <script>
        let totalScore = 0;
        const tg = window.Telegram.WebApp;
        tg.expand();

        window.onload = () => {
            let progress = 0;
            const bar = document.getElementById('p-bar');
            const interval = setInterval(() => {
                progress += 2;
                bar.style.width = progress + '%';
                if(progress >= 100) {
                    clearInterval(interval);
                    document.getElementById('checking-screen').style.display = 'none';
                    document.getElementById('app').classList.remove('hidden');
                    updateScore(5000); // Başlangıç bonusu
                }
            }, 30);
        };

        function updateScore(amount) {
            let start = totalScore;
            totalScore += amount;
            let current = start;
            const timer = setInterval(() => {
                current += Math.ceil(amount / 20);
                if (current >= totalScore) {
                    current = totalScore;
                    clearInterval(timer);
                }
                document.getElementById('score-display').innerText = current.toLocaleString();
            }, 30);
        }

        // REKLAM TETİKLEME FONKSİYONU
        function handleWatchAd() {
            if (typeof AdexiumWidget !== 'undefined' && adexiumWidget) {
                // Reklamı göster
                adexiumWidget.showInterstitial();
                
                // Reklam izlendi kabul edilip 1 puan ekle 
                // (Not: SDK event listener'ları ile gerçek izleme sonu kontrol edilebilir)
                updateScore(1);
                
                // Telegram haptic feedback (titreşim)
                tg.HapticFeedback.impactOccurred('light');
            } else {
                alert("Reklam yüklenemedi, lütfen tekrar deneyin.");
            }
        }

        function doTelegramTask() {
            window.open("https://t.me/AgeYears", "_blank");
            setTimeout(() => {
                const btn = document.getElementById('tg-btn');
                if(!btn.classList.contains('bg-green-600')) {
                    btn.innerText = "DONE";
                    btn.className = "bg-green-600 text-white px-6 py-2 rounded-xl text-[10px] font-black";
                    updateScore(100);
                }
            }, 2000);
        }

        function switchTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            el.classList.add('active');
        }
    </script>
</body>
</html>
