<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hamster CEO: Tap-to-Earn</title>
    <style>
        /* --- CSS STƒ∞LLERƒ∞ --- */
        :root {
            --bg-dark: #0f0f1a;
            --card-bg: #1e1e2e;
            --accent: #f3ba2f; /* Gold */
            --energy-color: #00ff88;
            --text-main: #ffffff;
            --text-dim: #a0a0b8;
            --neon-shadow: 0 0 15px rgba(243, 186, 47, 0.4);
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-dark);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* √úst Panel */
        .header {
            padding: 20px;
            text-align: center;
            background: linear-gradient(180deg, rgba(30,30,46,1) 0%, rgba(15,15,26,1) 100%);
            border-bottom: 1px solid #333;
        }

        .coin-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 5px;
        }

        .coin-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 0 5px var(--accent));
        }

        #balance {
            font-size: 2.8rem;
            font-weight: 900;
            color: var(--accent);
            text-shadow: var(--neon-shadow);
        }

        .profit-per-hour {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        /* Enerji Barƒ± */
        .energy-wrapper {
            padding: 10px 30px;
        }

        .energy-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .energy-bar-bg {
            height: 12px;
            background: #333;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #444;
        }

        .energy-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #00bd68, var(--energy-color));
            width: 100%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px var(--energy-color);
        }

        /* Ana ƒ∞√ßerik Alanƒ± */
        .content {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
            padding-bottom: 80px;
        }

        .panel {
            display: none;
            width: 100%;
            height: 100%;
            padding: 20px;
        }

        .panel.active {
            display: block;
        }

        /* Tap Alanƒ± */
        #tap-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .level-badge {
            background: rgba(243, 186, 47, 0.1);
            border: 1px solid var(--accent);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 20px;
            color: var(--accent);
        }

        .hamster-btn {
            position: relative;
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, #2e2e4a 0%, #1e1e2e 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 40px rgba(0,0,0,0.5), inset 0 0 20px rgba(243, 186, 47, 0.1);
            transition: transform 0.05s;
            border: 8px solid #2a2a3a;
        }

        .hamster-btn:active {
            transform: scale(0.96);
        }

        .hamster-emoji {
            font-size: 120px;
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.5));
        }

        /* Floating Text Animasyonu */
        .plus-one {
            position: absolute;
            color: #fff;
            font-weight: bold;
            font-size: 1.5rem;
            pointer-events: none;
            animation: float-up 0.8s ease-out forwards;
            z-index: 100;
            text-shadow: 0 0 5px var(--accent);
        }

        @keyframes float-up {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-150px) scale(1.5); }
        }

        /* Upgrade Kartlarƒ± */
        .upgrade-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .upgrade-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #333;
            transition: 0.3s;
        }

        .upgrade-card:active { transform: scale(0.98); }

        .up-info h4 { margin: 0; font-size: 1.1rem; color: var(--accent); }
        .up-info p { margin: 5px 0 0; font-size: 0.8rem; color: var(--text-dim); }

        .buy-btn {
            background: var(--accent);
            color: #000;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
        }

        .buy-btn:disabled {
            background: #444;
            color: #888;
        }

        /* ƒ∞statistikler */
        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid #333;
        }

        /* Alt Navigasyon */
        .nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 70px;
            background: #161625;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid #333;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            color: var(--text-dim);
            font-size: 0.75rem;
            cursor: pointer;
            flex: 1;
            padding: 10px;
        }

        .nav-item.active {
            color: var(--accent);
        }

        .nav-item i { font-size: 1.5rem; }

        /* Modal (Offline & Bonus) */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }

        .modal {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 25px;
            text-align: center;
            border: 2px solid var(--accent);
            max-width: 400px;
            width: 100%;
        }

        /* Dark Mode / Settings */
        .settings-top {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 50;
        }

        .icon-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="coin-container">
            <span class="coin-icon">ü™ô</span>
            <span id="balance">0</span>
        </div>
        <div class="profit-per-hour">
            Pasif Kazan√ß: <span id="passive-rate">0</span> / sn
        </div>
    </div>

    <div class="energy-wrapper">
        <div class="energy-info">
            <span>‚ö° ENERJƒ∞</span>
            <span id="energy-text">100 / 100</span>
        </div>
        <div class="energy-bar-bg">
            <div id="energy-fill" class="energy-bar-fill"></div>
        </div>
    </div>

    <main class="content">
        
        <div class="settings-top">
            <button class="icon-btn" onclick="toggleMute()" id="mute-btn">üîä</button>
        </div>

        <div id="tap-panel" class="panel active">
            <div class="level-badge" id="level-name">Level 1: Yeni Yetme Hamster</div>
            <div class="hamster-btn" id="hamster-click">
                <div class="hamster-emoji" id="hamster-visual">üêπ</div>
            </div>
        </div>

        <div id="upgrade-panel" class="panel">
            <h2 style="text-align:center; color: var(--accent);">Geli≈ütirmeler</h2>
            <div class="upgrade-list">
                <div class="upgrade-card">
                    <div class="up-info">
                        <h4>Tƒ±klama G√ºc√º</h4>
                        <p>Her tap: +<span id="tap-power-val">1</span> coin</p>
                        <p>Maliyet: üí∞ <span id="cost-tap">50</span></p>
                    </div>
                    <button class="buy-btn" onclick="buyUpgrade('tap')">Geli≈ütir</button>
                </div>
                <div class="upgrade-card">
                    <div class="up-info">
                        <h4>Hamster √áarkƒ±</h4>
                        <p>Otomatik: +<span id="passive-val">1</span>/sn</p>
                        <p>Maliyet: üí∞ <span id="cost-passive">150</span></p>
                    </div>
                    <button class="buy-btn" onclick="buyUpgrade('passive')">Satƒ±n Al</button>
                </div>
                <div class="upgrade-card">
                    <div class="up-info">
                        <h4>Enerji ƒ∞√ßeceƒüi</h4>
                        <p>Max Enerji: +50</p>
                        <p>Maliyet: üí∞ <span id="cost-energy">200</span></p>
                    </div>
                    <button class="buy-btn" onclick="buyUpgrade('energy')">ƒ∞√ß</button>
                </div>
            </div>
        </div>

        <div id="stats-panel" class="panel">
            <h2 style="text-align:center">Borsa Raporu</h2>
            <div class="stat-row">
                <span>Toplam Tƒ±klama:</span>
                <b id="stat-taps">0</b>
            </div>
            <div class="stat-row">
                <span>Toplam Kazan√ß:</span>
                <b id="stat-total-earned">0</b>
            </div>
            <div class="stat-row">
                <span>Mevcut Seviye:</span>
                <b id="stat-level">1</b>
            </div>
            <div class="stat-row">
                <span>Saatlik Kazan√ß:</span>
                <b id="stat-hourly">0</b>
            </div>
            <div style="margin-top:30px; text-align:center">
                <button class="buy-btn" style="background:#ff4444; color:white" onclick="resetGame()">VERƒ∞LERƒ∞ SIFIRLA</button>
            </div>
        </div>

    </main>

    <div class="modal-overlay" id="modal-offline">
        <div class="modal">
            <h2 style="color: var(--accent)">Tekrar Ho≈ü Geldin!</h2>
            <p id="offline-desc">Sen yokken hamsterlarƒ±n bo≈ü durmadƒ±.</p>
            <div style="font-size: 2rem; margin: 20px 0;">ü™ô <span id="offline-amount">0</span></div>
            <button class="buy-btn" onclick="closeModal('modal-offline')" style="width:100%">KAZANCI TOPLA</button>
        </div>
    </div>

    <nav class="nav">
        <div class="nav-item active" onclick="switchTab('tap', this)">
            <i>üêπ</i>
            <span>Tap</span>
        </div>
        <div class="nav-item" onclick="switchTab('upgrade', this)">
            <i>üõí</i>
            <span>Market</span>
        </div>
        <div class="nav-item" onclick="switchTab('stats', this)">
            <i>üìä</i>
            <span>Stats</span>
        </div>
    </nav>

    <script>
        /* --- JAVASCRIPT OYUN MANTIƒûI --- */

        // Oyun Verileri
        let state = {
            coins: 0,
            totalEarned: 0,
            totalTaps: 0,
            energy: 100,
            maxEnergy: 100,
            tapPower: 1,
            passiveIncome: 0,
            level: 1,
            lastSave: Date.now(),
            isMuted: false,
            upgrades: {
                tap: { level: 0, baseCost: 50 },
                passive: { level: 0, baseCost: 150 },
                energy: { level: 0, baseCost: 200 }
            }
        };

        const levels = [
            { name: "Yeni Yetme Hamster", emoji: "üêπ", min: 0, bg: "#0f0f1a" },
            { name: "Yatƒ±rƒ±mcƒ± Hamster", emoji: "üêπüíº", min: 5000, bg: "#1a1a2e" },
            { name: "Broker Hamster", emoji: "üêπüìà", min: 25000, bg: "#1e2a1e" },
            { name: "Milyoner CEO", emoji: "üêπüëë", min: 100000, bg: "#2a1e1e" },
            { name: "Kripto Balinasƒ±", emoji: "üê≥", min: 1000000, bg: "#1e2a2a" }
        ];

        // Ba≈ülatma
        init();

        function init() {
            loadGame();
            updateUI();
            checkOfflineProfit();
            
            // D√∂ng√ºler
            setInterval(gameLoop, 1000); // Pasif Gelir & Enerji
            setInterval(saveGame, 5000); // Otomatik Kayƒ±t
            
            // Event Listeners
            document.getElementById('hamster-click').addEventListener('pointerdown', handleTap);
        }

        // Ana D√∂ng√º (Saniyede 1 kez)
        function gameLoop() {
            // Pasif Gelir
            if (state.passiveIncome > 0) {
                addCoins(state.passiveIncome);
            }

            // Enerji Yenilenmesi
            if (state.energy < state.maxEnergy) {
                state.energy = Math.min(state.maxEnergy, state.energy + 1);
            }

            updateUI();
        }

        // Tƒ±klama ƒ∞≈ülemi
        function handleTap(e) {
            if (state.energy <= 0) return;

            // Veri g√ºncelleme
            state.energy -= 1;
            state.totalTaps += 1;
            addCoins(state.tapPower);

            // G√∂rsel efektler
            createPlusText(e.clientX, e.clientY);
            vibrate(20);
            updateUI();
        }

        function addCoins(amount) {
            state.coins += amount;
            state.totalEarned += amount;
            checkLevel();
        }

        function createPlusText(x, y) {
            const el = document.createElement('div');
            el.className = 'plus-one';
            el.innerText = `+${state.tapPower}`;
            el.style.left = `${x - 20}px`;
            el.style.top = `${y - 50}px`;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 800);
        }

        // Upgrade Mantƒ±ƒüƒ±
        function buyUpgrade(type) {
            const up = state.upgrades[type];
            const cost = calculateCost(up.baseCost, up.level);

            if (state.coins >= cost) {
                state.coins -= cost;
                up.level++;

                if (type === 'tap') state.tapPower += 2;
                if (type === 'passive') state.passiveIncome += 1;
                if (type === 'energy') {
                    state.maxEnergy += 50;
                    state.energy = state.maxEnergy;
                }

                vibrate(50);
                updateUI();
                saveGame();
            }
        }

        function calculateCost(base, level) {
            return Math.floor(base * Math.pow(1.6, level));
        }

        // UI G√ºncelleme
        function updateUI() {
            document.getElementById('balance').innerText = Math.floor(state.coins).toLocaleString();
            document.getElementById('passive-rate').innerText = state.passiveIncome;
            document.getElementById('energy-text').innerText = `${state.energy} / ${state.maxEnergy}`;
            document.getElementById('energy-fill').style.width = `${(state.energy / state.maxEnergy) * 100}%`;
            
            // Upgrade Fiyatlarƒ±
            document.getElementById('cost-tap').innerText = calculateCost(state.upgrades.tap.baseCost, state.upgrades.tap.level).toLocaleString();
            document.getElementById('cost-passive').innerText = calculateCost(state.upgrades.passive.baseCost, state.upgrades.passive.level).toLocaleString();
            document.getElementById('cost-energy').innerText = calculateCost(state.upgrades.energy.baseCost, state.upgrades.energy.level).toLocaleString();
            
            // Buton durumlarƒ±
            document.querySelectorAll('.buy-btn').forEach(btn => {
                const costText = btn.previousElementSibling.querySelector('span[id^="cost"]').innerText.replace(/,/g, '');
                btn.disabled = state.coins < parseInt(costText);
            });

            // ƒ∞statistikler
            document.getElementById('stat-taps').innerText = state.totalTaps;
            document.getElementById('stat-total-earned').innerText = Math.floor(state.totalEarned).toLocaleString();
            document.getElementById('stat-level').innerText = state.level;
            document.getElementById('stat-hourly').innerText = (state.passiveIncome * 3600).toLocaleString();
        }

        // Level Sistemi
        function checkLevel() {
            let currentLevel = levels.slice().reverse().find(l => state.totalEarned >= l.min);
            let levelIdx = levels.indexOf(currentLevel) + 1;

            if (levelIdx !== state.level) {
                state.level = levelIdx;
                document.getElementById('level-name').innerText = `Level ${state.level}: ${currentLevel.name}`;
                document.getElementById('hamster-visual').innerText = currentLevel.emoji;
                document.body.style.backgroundColor = currentLevel.bg;
            }
        }

        // Offline Kazan√ß Hesaplama
        function checkOfflineProfit() {
            const now = Date.now();
            const elapsedSeconds = Math.floor((now - state.lastSave) / 1000);
            
            if (elapsedSeconds > 30 && state.passiveIncome > 0) {
                const maxOffline = 8 * 3600; // 8 Saat sƒ±nƒ±rƒ±
                const actualSeconds = Math.min(elapsedSeconds, maxOffline);
                const profit = actualSeconds * state.passiveIncome;
                
                state.coins += profit;
                state.totalEarned += profit;
                
                document.getElementById('offline-amount').innerText = Math.floor(profit).toLocaleString();
                document.getElementById('modal-offline').style.display = 'flex';
            }
        }

        // Utility Fonksiyonlar
        function switchTab(tabId, el) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(tabId + '-panel').classList.add('active');
            el.classList.add('active');
        }

        function closeModal(id) {
            document.getElementById(id).style.display = 'none';
        }

        function saveGame() {
            state.lastSave = Date.now();
            localStorage.setItem('hamsterCEO_save', JSON.stringify(state));
        }

        function loadGame() {
            const saved = localStorage.getItem('hamsterCEO_save');
            if (saved) {
                const parsed = JSON.parse(saved);
                state = { ...state, ...parsed };
                // Upgrade objesini koruyarak birle≈ütir
                state.upgrades = { ...state.upgrades, ...parsed.upgrades };
            }
        }

        function resetGame() {
            if(confirm("T√ºm emeƒüin silinecek! CEO koltuƒüunu bƒ±rakmak istediƒüine emin misin?")) {
                localStorage.removeItem('hamsterCEO_save');
                location.reload();
            }
        }

        function toggleMute() {
            state.isMuted = !state.isMuted;
            document.getElementById('mute-btn').innerText = state.isMuted ? 'üîá' : 'üîä';
        }

        function vibrate(ms) {
            if (!state.isMuted && navigator.vibrate) {
                navigator.vibrate(ms);
            }
        }
    </script>
</body>
</html>
